<view class="container">
  <!-- 时间维度选择 -->
  <view class="dimension-selector">
    <view class="dimension-item {{currentDimension === 'hourly' ? 'active' : ''}}" 
          bindtap="switchDimension" data-dimension="hourly">
      时薪
    </view>
    <view class="dimension-item {{currentDimension === 'daily' ? 'active' : ''}}" 
          bindtap="switchDimension" data-dimension="daily">
      日薪
    </view>
    <view class="dimension-item {{currentDimension === 'monthly' ? 'active' : ''}}" 
          bindtap="switchDimension" data-dimension="monthly">
      月薪
    </view>
    <view class="dimension-item {{currentDimension === 'yearly' ? 'active' : ''}}" 
          bindtap="switchDimension" data-dimension="yearly">
      年薪
    </view>
  </view>

  <!-- 趋势图表 -->
  <view class="chart-container">
    <canvas type="2d" id="trendChart" class="trend-chart" style="width: 100%; height: 300px;" bindtap="onChartTap"></canvas>
    <view class="empty-chart" wx:if="{{chartData.length === 0}}">
      <image class="empty-icon" src="/images/empty.svg" mode="aspectFit"></image>
      <text class="empty-text">暂无数据</text>
    </view>
    <!-- 数据提示框 -->
    <view class="data-tooltip" wx:if="{{showTooltip}}" style="left: {{tooltipX}}px; top: {{tooltipY}}px;">
      <view class="tooltip-date">{{tooltipDate}}</view>
      <view class="tooltip-value">¥{{tooltipValue}}</view>
    </view>
  </view>

  <!-- 数据分析 -->
  <view class="analysis-section">
    <view class="section-title">数据分析</view>
    <view class="analysis-grid">
      <view class="analysis-item">
        <text class="analysis-label">平均值</text>
        <text class="analysis-value">¥{{averageValue}}</text>
      </view>
      <view class="analysis-item">
        <text class="analysis-label">最高值</text>
        <text class="analysis-value">¥{{maxValue}}</text>
      </view>
      <view class="analysis-item">
        <text class="analysis-label">最低值</text>
        <text class="analysis-value">¥{{minValue}}</text>
      </view>
      <view class="analysis-item">
        <text class="analysis-label">波动率</text>
        <text class="analysis-value">{{volatility}}%</text>
      </view>
    </view>
  </view>

  <!-- 优化建议 -->
  <view class="suggestion-section">
    <view class="section-title">优化建议</view>
    <view class="suggestion-list">
      <view class="suggestion-item" wx:for="{{suggestions}}" wx:key="index">
        <view class="suggestion-icon">{{item.icon}}</view>
        <view class="suggestion-content">
          <view class="suggestion-title">{{item.title}}</view>
          <view class="suggestion-desc">{{item.description}}</view>
        </view>
      </view>
    </view>
    <view class="empty-suggestion" wx:if="{{suggestions.length === 0}}">
      <text class="empty-text">暂无建议</text>
    </view>
  </view>
</view> 